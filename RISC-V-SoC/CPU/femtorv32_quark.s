(TpProg (TpModule (TpTask FemtoRV32 (sharp null) (paras (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp clk (TpDim null) NullExp)))) (Output (Nettype Nullnet) (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp mem_addr (TpDim null) NullExp)))) (Output (Nettype Nullnet) (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp mem_wdata (TpDim null) NullExp)))) (Output (Nettype Nullnet) (TpSigDeclBody false NoDelay (RngC (Atom (Int 3)) (Atom (Int 0))) (sharp (TpVarTp mem_wmask (TpDim null) NullExp)))) (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp mem_rdata (TpDim null) NullExp)))) (Output (Nettype Nullnet) (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp mem_rstrb (TpDim null) NullExp)))) (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp mem_rbusy (TpDim null) NullExp)))) (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp mem_wbusy (TpDim null) NullExp)))) (Input Nullnet (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp reset (TpDim null) NullExp))))) (parameters null) (localparam null) (ilists null) (iolists null) (olists null) (sigset (Parameter (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp RESET_ADDR (TpDim null) (Atom (Num false 32 (Hex false 00000000)))))))) (Parameter (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp ADDR_WIDTH (TpDim null) (Atom (Int 24))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 4)) (Atom (Int 0))) (sharp (TpVarTp rdId (TpDim null) (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 11)) (Atom (Int 7)))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 7)) (Atom (Int 0))) (sharp (TpVarTp funct3Is (TpDim null) (ShiftLeft (Atom (Num false 8 (Bin false 00000001))) (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 14)) (Atom (Int 12))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp Uimm (TpDim null) (Conc (Clist (TpConcList (Ele (Atom (Sym (Idx instr (TpExpList (Atom (Int 31))) Rng0)))) (Ele (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 30)) (Atom (Int 12))))))) (Embed (Clist (TpConcList (Dup (Atom (Int 12)) (Clist (TpConcList (Ele (Atom (Num false 1 (Bin false 0))))))))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp Iimm (TpDim null) (Conc (Clist (TpConcList (Embed (Clist (TpConcList (Dup (Atom (Int 21)) (Clist (TpConcList (Ele (Atom (Sym (Idx instr (TpExpList (Atom (Int 31))) Rng0)))))))))) (Ele (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 30)) (Atom (Int 20)))))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp Simm (TpDim null) (Conc (Clist (TpConcList (Embed (Clist (TpConcList (Dup (Atom (Int 21)) (Clist (TpConcList (Ele (Atom (Sym (Idx instr (TpExpList (Atom (Int 31))) Rng0)))))))))) (Ele (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 30)) (Atom (Int 25))))))) (Ele (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 11)) (Atom (Int 7)))))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp Bimm (TpDim null) (Conc (Clist (TpConcList (Embed (Clist (TpConcList (Dup (Atom (Int 20)) (Clist (TpConcList (Ele (Atom (Sym (Idx instr (TpExpList (Atom (Int 31))) Rng0)))))))))) (Ele (Atom (Sym (Idx instr (TpExpList (Atom (Int 7))) Rng0)))) (Ele (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 30)) (Atom (Int 25))))))) (Ele (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 11)) (Atom (Int 8))))))) (Ele (Atom (Num false 1 (Bin false 0))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp Jimm (TpDim null) (Conc (Clist (TpConcList (Embed (Clist (TpConcList (Dup (Atom (Int 12)) (Clist (TpConcList (Ele (Atom (Sym (Idx instr (TpExpList (Atom (Int 31))) Rng0)))))))))) (Ele (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 19)) (Atom (Int 12))))))) (Ele (Atom (Sym (Idx instr (TpExpList (Atom (Int 20))) Rng0)))) (Ele (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 30)) (Atom (Int 21))))))) (Ele (Atom (Num false 1 (Bin false 0))))))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isLoad (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 00000)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isALUimm (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 00100)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isStore (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 01000)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isALUreg (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 01100)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isSYSTEM (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 11100)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isJAL (TpDim null) (Atom (Sym (Idx instr (TpExpList (Atom (Int 3))) Rng0))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isJALR (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 11001)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isLUI (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 01101)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isAUIPC (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 00101)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isBranch (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 6)) (Atom (Int 2)))))) (Atom (Num false 5 (Bin false 11000)))))))) (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp isALU (TpDim null) (BitOr (Atom (Sym (Var isALUimm))) (Atom (Sym (Var isALUreg)))))))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp rs1 (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp rs2 (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp registerFile (TpDim (RngC (Atom (Int 31)) (Atom (Int 0)))) NullExp))))) (body (Always (TpEvent (Posedge (TpVarRange clk Rng0))) (body (Block null (body (If (Atom (Sym (Var writeBack))) (If (Neq (Atom (Sym (Var rdId))) (Atom (Int 0))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Idx registerFile (TpExpList (Atom (Sym (Var rdId)))) Rng0)) (Atom (Sym (Var writeBackData))) NoDE)))) NoElse) NoElse))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp aluIn1 (TpDim null) (Atom (Sym (Var rs1)))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp aluIn2 (TpDim null) (Cond (BitOr (Atom (Sym (Var isALUreg))) (Atom (Sym (Var isBranch)))) (Atom (Sym (Var rs2))) (Atom (Sym (Var Iimm))))))))) (Decl (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp aluReg (TpDim null) NullExp))))) (Decl (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 4)) (Atom (Int 0))) (sharp (TpVarTp aluShamt (TpDim null) NullExp))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp aluBusy (TpDim null) (URor (Atom (Sym (Var aluShamt))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp aluWr (TpDim null) NullExp))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp aluPlus (TpDim null) (Add (Atom (Sym (Var aluIn1))) (Atom (Sym (Var aluIn2))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 32)) (Atom (Int 0))) (sharp (TpVarTp aluMinus (TpDim null) (Add (Add (Conc (Clist (TpConcList (Ele (Atom (Num false 1 (Bin false 1)))) (Ele (Not (Atom (Sym (Var aluIn2)))))))) (Conc (Clist (TpConcList (Ele (Atom (Num false 1 (Bin false 0)))) (Ele (Atom (Sym (Var aluIn1)))))))) (Atom (Num false 33 (Bin false 1))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp LT (TpDim null) (Cond (BitXor (Atom (Sym (Idx aluIn1 (TpExpList (Atom (Int 31))) Rng0))) (Atom (Sym (Idx aluIn2 (TpExpList (Atom (Int 31))) Rng0)))) (Atom (Sym (Idx aluIn1 (TpExpList (Atom (Int 31))) Rng0))) (Atom (Sym (Idx aluMinus (TpExpList (Atom (Int 32))) Rng0))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp LTU (TpDim null) (Atom (Sym (Idx aluMinus (TpExpList (Atom (Int 32))) Rng0)))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp EQ (TpDim null) (Eq (Atom (Sym (Idx aluMinus (TpExpList null) (RngC (Atom (Int 31)) (Atom (Int 0)))))) (Atom (Int 0)))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp aluOut (TpDim null) (BitOr (BitOr (BitOr (BitOr (BitOr (BitOr (Cond (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 0))) Rng0))) (Cond (BitAnd (Atom (Sym (Idx instr (TpExpList (Atom (Int 30))) Rng0))) (Atom (Sym (Idx instr (TpExpList (Atom (Int 5))) Rng0)))) (Atom (Sym (Idx aluMinus (TpExpList null) (RngC (Atom (Int 31)) (Atom (Int 0)))))) (Atom (Sym (Var aluPlus)))) (Atom (Num false 32 (Bin false 0)))) (Cond (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 2))) Rng0))) (Conc (Clist (TpConcList (Ele (Atom (Num false 31 (Bin false 0)))) (Ele (Atom (Sym (Var LT))))))) (Atom (Num false 32 (Bin false 0))))) (Cond (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 3))) Rng0))) (Conc (Clist (TpConcList (Ele (Atom (Num false 31 (Bin false 0)))) (Ele (Atom (Sym (Var LTU))))))) (Atom (Num false 32 (Bin false 0))))) (Cond (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 4))) Rng0))) (BitXor (Atom (Sym (Var aluIn1))) (Atom (Sym (Var aluIn2)))) (Atom (Num false 32 (Bin false 0))))) (Cond (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 6))) Rng0))) (BitOr (Atom (Sym (Var aluIn1))) (Atom (Sym (Var aluIn2)))) (Atom (Num false 32 (Bin false 0))))) (Cond (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 7))) Rng0))) (BitAnd (Atom (Sym (Var aluIn1))) (Atom (Sym (Var aluIn2)))) (Atom (Num false 32 (Bin false 0))))) (Cond (Atom (Sym (Var funct3IsShift))) (Atom (Sym (Var aluReg))) (Atom (Num false 32 (Bin false 0)))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp funct3IsShift (TpDim null) (BitOr (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 1))) Rng0))) (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 5))) Rng0))))))))) (Always (TpEvent (Posedge (TpVarRange clk Rng0))) (body (Block null (body (If (Atom (Sym (Var aluWr))) (Block null (body (If (Atom (Sym (Var funct3IsShift))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var aluReg)) (Atom (Sym (Var aluIn1))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var aluShamt)) (Atom (Sym (Idx aluIn2 (TpExpList null) (RngC (Atom (Int 4)) (Atom (Int 0)))))) NoDE)))))) NoElse))) NoElse) (If (URor (Atom (Sym (Var aluShamt)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var aluShamt)) (Sub (Atom (Sym (Var aluShamt))) (Atom (Int 1))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var aluReg)) (Cond (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 1))) Rng0))) (ShiftLeft (Atom (Sym (Var aluReg))) (Atom (Int 1))) (Conc (Clist (TpConcList (Ele (BitAnd (Atom (Sym (Idx instr (TpExpList (Atom (Int 30))) Rng0))) (Atom (Sym (Idx aluReg (TpExpList (Atom (Int 31))) Rng0))))) (Ele (Atom (Sym (Idx aluReg (TpExpList null) (RngC (Atom (Int 31)) (Atom (Int 1))))))))))) NoDE)))))) NoElse))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp predicate (TpDim null) (BitOr (BitOr (BitOr (BitOr (BitOr (BitAnd (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 0))) Rng0))) (Atom (Sym (Var EQ)))) (BitAnd (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 1))) Rng0))) (LNot (Atom (Sym (Var EQ)))))) (BitAnd (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 4))) Rng0))) (Atom (Sym (Var LT))))) (BitAnd (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 5))) Rng0))) (LNot (Atom (Sym (Var LT)))))) (BitAnd (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 6))) Rng0))) (Atom (Sym (Var LTU))))) (BitAnd (Atom (Sym (Idx funct3Is (TpExpList (Atom (Int 7))) Rng0))) (LNot (Atom (Sym (Var LTU))))))))))) (Decl (Reg (TpSigDeclBody false NoDelay (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0))) (sharp (TpVarTp PC (TpDim null) NullExp))))) (Decl (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 2))) (sharp (TpVarTp instr (TpDim null) NullExp))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0))) (sharp (TpVarTp PCplus4 (TpDim null) (Add (Atom (Sym (Var PC))) (Atom (Int 4)))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0))) (sharp (TpVarTp PCplusImm (TpDim null) (Add (Atom (Sym (Var PC))) (Cond (Atom (Sym (Idx instr (TpExpList (Atom (Int 3))) Rng0))) (Atom (Sym (Idx Jimm (TpExpList null) (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0)))))) (Cond (Atom (Sym (Idx instr (TpExpList (Atom (Int 4))) Rng0))) (Atom (Sym (Idx Uimm (TpExpList null) (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0)))))) (Atom (Sym (Idx Bimm (TpExpList null) (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0)))))))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0))) (sharp (TpVarTp loadstore_addr (TpDim null) (Add (Atom (Sym (Idx rs1 (TpExpList null) (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0)))))) (Cond (Atom (Sym (Idx instr (TpExpList (Atom (Int 5))) Rng0))) (Atom (Sym (Idx Simm (TpExpList null) (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0)))))) (Atom (Sym (Idx Iimm (TpExpList null) (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0))))))))))))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var mem_addr)) (Cond (BitOr (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var WAIT_INSTR_bit)))) Rng0))) (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var FETCH_INSTR_bit)))) Rng0)))) (Atom (Sym (Var PC))) (Atom (Sym (Var loadstore_addr)))) NoDE)))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp writeBackData (TpDim null) (BitOr (BitOr (BitOr (BitOr (BitOr (Cond (Atom (Sym (Var isSYSTEM))) (Atom (Sym (Var cycles))) (Atom (Num false 32 (Bin false 0)))) (Cond (Atom (Sym (Var isLUI))) (Atom (Sym (Var Uimm))) (Atom (Num false 32 (Bin false 0))))) (Cond (Atom (Sym (Var isALU))) (Atom (Sym (Var aluOut))) (Atom (Num false 32 (Bin false 0))))) (Cond (Atom (Sym (Var isAUIPC))) (Atom (Sym (Var PCplusImm))) (Atom (Num false 32 (Bin false 0))))) (Cond (BitOr (Atom (Sym (Var isJALR))) (Atom (Sym (Var isJAL)))) (Atom (Sym (Var PCplus4))) (Atom (Num false 32 (Bin false 0))))) (Cond (Atom (Sym (Var isLoad))) (Atom (Sym (Var LOAD_data))) (Atom (Num false 32 (Bin false 0)))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp mem_byteAccess (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 13)) (Atom (Int 12)))))) (Atom (Num false 2 (Bin false 00))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp mem_halfwordAccess (TpDim null) (Eq (Atom (Sym (Idx instr (TpExpList null) (RngC (Atom (Int 13)) (Atom (Int 12)))))) (Atom (Num false 2 (Bin false 01))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp LOAD_sign (TpDim null) (BitAnd (LNot (Atom (Sym (Idx instr (TpExpList (Atom (Int 14))) Rng0)))) (Cond (Atom (Sym (Var mem_byteAccess))) (Atom (Sym (Idx LOAD_byte (TpExpList (Atom (Int 7))) Rng0))) (Atom (Sym (Idx LOAD_halfword (TpExpList (Atom (Int 15))) Rng0)))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp LOAD_data (TpDim null) (Cond (Atom (Sym (Var mem_byteAccess))) (Conc (Clist (TpConcList (Embed (Clist (TpConcList (Dup (Atom (Int 24)) (Clist (TpConcList (Ele (Atom (Sym (Var LOAD_sign)))))))))) (Ele (Atom (Sym (Var LOAD_byte))))))) (Cond (Atom (Sym (Var mem_halfwordAccess))) (Conc (Clist (TpConcList (Embed (Clist (TpConcList (Dup (Atom (Int 16)) (Clist (TpConcList (Ele (Atom (Sym (Var LOAD_sign)))))))))) (Ele (Atom (Sym (Var LOAD_halfword))))))) (Atom (Sym (Var mem_rdata)))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 15)) (Atom (Int 0))) (sharp (TpVarTp LOAD_halfword (TpDim null) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 1))) Rng0))) (Atom (Sym (Idx mem_rdata (TpExpList null) (RngC (Atom (Int 31)) (Atom (Int 16)))))) (Atom (Sym (Idx mem_rdata (TpExpList null) (RngC (Atom (Int 15)) (Atom (Int 0)))))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 7)) (Atom (Int 0))) (sharp (TpVarTp LOAD_byte (TpDim null) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 0))) Rng0))) (Atom (Sym (Idx LOAD_halfword (TpExpList null) (RngC (Atom (Int 15)) (Atom (Int 8)))))) (Atom (Sym (Idx LOAD_halfword (TpExpList null) (RngC (Atom (Int 7)) (Atom (Int 0)))))))))))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Idx mem_wdata (TpExpList null) (RngC (Atom (Int 7)) (Atom (Int 0))))) (Atom (Sym (Idx rs2 (TpExpList null) (RngC (Atom (Int 7)) (Atom (Int 0)))))) NoDE)))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Idx mem_wdata (TpExpList null) (RngC (Atom (Int 15)) (Atom (Int 8))))) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 0))) Rng0))) (Atom (Sym (Idx rs2 (TpExpList null) (RngC (Atom (Int 7)) (Atom (Int 0)))))) (Atom (Sym (Idx rs2 (TpExpList null) (RngC (Atom (Int 15)) (Atom (Int 8))))))) NoDE)))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Idx mem_wdata (TpExpList null) (RngC (Atom (Int 23)) (Atom (Int 16))))) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 1))) Rng0))) (Atom (Sym (Idx rs2 (TpExpList null) (RngC (Atom (Int 7)) (Atom (Int 0)))))) (Atom (Sym (Idx rs2 (TpExpList null) (RngC (Atom (Int 23)) (Atom (Int 16))))))) NoDE)))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Idx mem_wdata (TpExpList null) (RngC (Atom (Int 31)) (Atom (Int 24))))) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 0))) Rng0))) (Atom (Sym (Idx rs2 (TpExpList null) (RngC (Atom (Int 7)) (Atom (Int 0)))))) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 1))) Rng0))) (Atom (Sym (Idx rs2 (TpExpList null) (RngC (Atom (Int 15)) (Atom (Int 8)))))) (Atom (Sym (Idx rs2 (TpExpList null) (RngC (Atom (Int 31)) (Atom (Int 24)))))))) NoDE)))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 3)) (Atom (Int 0))) (sharp (TpVarTp STORE_wmask (TpDim null) (Cond (Atom (Sym (Var mem_byteAccess))) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 1))) Rng0))) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 0))) Rng0))) (Atom (Num false 4 (Bin false 1000))) (Atom (Num false 4 (Bin false 0100)))) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 0))) Rng0))) (Atom (Num false 4 (Bin false 0010))) (Atom (Num false 4 (Bin false 0001))))) (Cond (Atom (Sym (Var mem_halfwordAccess))) (Cond (Atom (Sym (Idx loadstore_addr (TpExpList (Atom (Int 1))) Rng0))) (Atom (Num false 4 (Bin false 1100))) (Atom (Num false 4 (Bin false 0011)))) (Atom (Num false 4 (Bin false 1111)))))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp FETCH_INSTR_bit (TpDim null) (Atom (Int 0)))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp WAIT_INSTR_bit (TpDim null) (Atom (Int 1)))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp EXECUTE_bit (TpDim null) (Atom (Int 2)))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp WAIT_ALU_OR_MEM_bit (TpDim null) (Atom (Int 3)))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp NB_STATES (TpDim null) (Atom (Int 4)))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp FETCH_INSTR (TpDim null) (ShiftLeft (Atom (Int 1)) (Atom (Sym (Var FETCH_INSTR_bit)))))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp WAIT_INSTR (TpDim null) (ShiftLeft (Atom (Int 1)) (Atom (Sym (Var WAIT_INSTR_bit)))))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp EXECUTE (TpDim null) (ShiftLeft (Atom (Int 1)) (Atom (Sym (Var EXECUTE_bit)))))))))) (Decl (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp WAIT_ALU_OR_MEM (TpDim null) (ShiftLeft (Atom (Int 1)) (Atom (Sym (Var WAIT_ALU_OR_MEM_bit)))))))))) (Decl (Reg (TpSigDeclBody false NoDelay (RngC (Sub (Atom (Sym (Var NB_STATES))) (Atom (Int 1))) (Atom (Int 0))) (sharp (TpVarTp state (TpDim null) NullExp))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp writeBack (TpDim null) (BitAnd (Not (BitOr (Atom (Sym (Var isBranch))) (Atom (Sym (Var isStore))))) (BitOr (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var EXECUTE_bit)))) Rng0))) (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var WAIT_ALU_OR_MEM_bit)))) Rng0)))))))))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var mem_rstrb)) (BitOr (BitAnd (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var EXECUTE_bit)))) Rng0))) (Atom (Sym (Var isLoad)))) (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var FETCH_INSTR_bit)))) Rng0)))) NoDE)))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var mem_wmask)) (BitAnd (Conc (Clist (TpConcList (Dup (Atom (Int 4)) (Clist (TpConcList (Ele (BitAnd (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var EXECUTE_bit)))) Rng0))) (Atom (Sym (Var isStore))))))))))) (Atom (Sym (Var STORE_wmask)))) NoDE)))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var aluWr)) (BitAnd (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var EXECUTE_bit)))) Rng0))) (Atom (Sym (Var isALU)))) NoDE)))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp jumpToPCplusImm (TpDim null) (BitOr (Atom (Sym (Var isJAL))) (BitAnd (Atom (Sym (Var isBranch))) (Atom (Sym (Var predicate)))))))))) (Decl (Wire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp needToWait (TpDim null) (BitOr (BitOr (Atom (Sym (Var isLoad))) (Atom (Sym (Var isStore)))) (BitAnd (Atom (Sym (Var isALU))) (Atom (Sym (Var funct3IsShift)))))))))) (Always (TpEvent (Posedge (TpVarRange clk Rng0))) (body (Block null (body (If (LNot (Atom (Sym (Var reset)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Atom (Sym (Var WAIT_ALU_OR_MEM))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var PC)) (Atom (Sym (Idx RESET_ADDR (TpExpList null) (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 0)))))) NoDE)))))) (Case (Atom (Num false 1 (Bin false 1))) (TpCaseList (TpCase (TpCaseLblList (CaseLbl (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var WAIT_INSTR_bit)))) Rng0))))) (Block null (body (If (LNot (Atom (Sym (Var mem_rbusy)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rs1)) (Atom (Sym (Idx registerFile (TpExpList (Atom (Sym (Idx mem_rdata (TpExpList null) (RngC (Atom (Int 19)) (Atom (Int 15))))))) Rng0))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var rs2)) (Atom (Sym (Idx registerFile (TpExpList (Atom (Sym (Idx mem_rdata (TpExpList null) (RngC (Atom (Int 24)) (Atom (Int 20))))))) Rng0))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var instr)) (Atom (Sym (Idx mem_rdata (TpExpList null) (RngC (Atom (Int 31)) (Atom (Int 2)))))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Atom (Sym (Var EXECUTE))) NoDE)))))) NoElse)))) (TpCase (TpCaseLblList (CaseLbl (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var EXECUTE_bit)))) Rng0))))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var PC)) (Cond (Atom (Sym (Var isJALR))) (Conc (Clist (TpConcList (Ele (Atom (Sym (Idx aluPlus (TpExpList null) (RngC (Sub (Atom (Sym (Var ADDR_WIDTH))) (Atom (Int 1))) (Atom (Int 1))))))) (Ele (Atom (Num false 1 (Bin false 0))))))) (Cond (Atom (Sym (Var jumpToPCplusImm))) (Atom (Sym (Var PCplusImm))) (Atom (Sym (Var PCplus4))))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Cond (Atom (Sym (Var needToWait))) (Atom (Sym (Var WAIT_ALU_OR_MEM))) (Atom (Sym (Var FETCH_INSTR)))) NoDE))))))) (TpCase (TpCaseLblList (CaseLbl (Atom (Sym (Idx state (TpExpList (Atom (Sym (Var WAIT_ALU_OR_MEM_bit)))) Rng0))))) (Block null (body (If (BitAnd (BitAnd (LNot (Atom (Sym (Var aluBusy)))) (LNot (Atom (Sym (Var mem_rbusy))))) (LNot (Atom (Sym (Var mem_wbusy))))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Atom (Sym (Var FETCH_INSTR))) NoDE)))) NoElse)))) (TpCase (TpCaseLblList Default) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Atom (Sym (Var WAIT_INSTR))) NoDE)))))))))))))) (Decl (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 31)) (Atom (Int 0))) (sharp (TpVarTp cycles (TpDim null) NullExp))))) (Always (TpEvent (Posedge (TpVarRange clk Rng0))) (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var cycles)) (Add (Atom (Sym (Var cycles))) (Atom (Int 1))) NoDE))))))) (macros null))))
