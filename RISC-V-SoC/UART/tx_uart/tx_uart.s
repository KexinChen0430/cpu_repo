(TpProg (TpModule (TpTask tx (sharp null) (paras (Port (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp i_clk (TpDim null) NullExp) (TpVarTp i_wr (TpDim null) NullExp) (TpVarTp i_data (TpDim null) NullExp) (TpVarTp o_busy (TpDim null) NullExp) (TpVarTp o_uart_tx (TpDim null) NullExp))))) (parameters null) (localparam null) (ilists (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp i_clk (TpDim null) NullExp))) (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp i_wr (TpDim null) NullExp))) (TpSigDeclBody false NoDelay (RngC (Sub (Atom (Sym (Var BW))) (Atom (Int 1))) (Atom (Int 0))) (sharp (TpVarTp i_data (TpDim null) NullExp)))) (iolists null) (olists (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp o_busy (TpDim null) NullExp))) (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp o_uart_tx (TpDim null) NullExp)))) (sigset (Parameter (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp BW (TpDim null) (Atom (Int 8))))))) (Parameter (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 23)) (Atom (Int 0))) (sharp (TpVarTp CLOCKS_PER_BAUD (TpDim null) (Atom (Num false 24 (Dec false 868)))))))) (Localparam (SignRng (TpSigDeclBody false NoDelay (RngC (Atom (Int 3)) (Atom (Int 0))) (sharp (TpVarTp START (TpDim null) (Atom (Num false 4 (Hex false 0)))) (TpVarTp BIT_ZERO (TpDim null) (Atom (Num false 4 (Hex false 1)))) (TpVarTp BIT_ONE (TpDim null) (Atom (Num false 4 (Hex false 2)))) (TpVarTp BIT_TWO (TpDim null) (Atom (Num false 4 (Hex false 3)))) (TpVarTp BIT_THREE (TpDim null) (Atom (Num false 4 (Hex false 4)))) (TpVarTp BIT_FOUR (TpDim null) (Atom (Num false 4 (Hex false 5)))) (TpVarTp BIT_FIVE (TpDim null) (Atom (Num false 4 (Hex false 6)))) (TpVarTp BIT_SIX (TpDim null) (Atom (Num false 4 (Hex false 7)))) (TpVarTp BIT_SEVEN (TpDim null) (Atom (Num false 4 (Hex false 8)))) (TpVarTp LAST (TpDim null) (Atom (Num false 4 (Hex false 8)))) (TpVarTp IDLE (TpDim null) (Atom (Num false 4 (Hex false f)))))))) (Input Nwire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp i_clk (TpDim null) NullExp)))) (Input Nwire (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp i_wr (TpDim null) NullExp)))) (Input Nwire (TpSigDeclBody false NoDelay (RngC (Sub (Atom (Sym (Var BW))) (Atom (Int 1))) (Atom (Int 0))) (sharp (TpVarTp i_data (TpDim null) NullExp)))) (Output Regtype (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp o_busy (TpDim null) NullExp)))) (Output Regtype (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp o_uart_tx (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 3)) (Atom (Int 0))) (sharp (TpVarTp state (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 23)) (Atom (Int 0))) (sharp (TpVarTp baud_counter (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Sym (Var BW))) (Atom (Int 0))) (sharp (TpVarTp local_data (TpDim null) NullExp)))) (Reg (TpSigDeclBody false NoDelay (RngC (Atom (Int 0)) (Atom (Int 0))) (sharp (TpVarTp baud_stb (TpDim null) NullExp))))) (body (Initial (body (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Atom (Sym (Var IDLE))) NoDE)))))) (Initial (body (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var o_busy)) (Atom (Int 0)) NoDE)))))) (Always (TpEvent (Posedge (TpVarRange i_clk Rng0))) (body (Block null (body (If (And (Atom (Sym (Var i_wr))) (LNot (Atom (Sym (Var o_busy))))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var o_busy)) (Atom (Num false 1 (Bin false 1))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Atom (Sym (Var START))) NoDE)))))) (If (Atom (Sym (Var baud_stb))) (Block null (body (If (Eq (Atom (Sym (Var state))) (Atom (Sym (Var IDLE)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var o_busy)) (Atom (Num false 1 (Bin false 0))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Atom (Sym (Var IDLE))) NoDE)))))) (If (Lt (Atom (Sym (Var state))) (Atom (Sym (Var LAST)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var o_busy)) (Atom (Num false 1 (Bin false 1))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Add (Atom (Sym (Var state))) (Atom (Num false 1 (Bin false 1)))) NoDE)))))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var o_busy)) (Atom (Num false 1 (Bin false 0))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var state)) (Atom (Sym (Var IDLE))) NoDE)))))))))) NoElse)))))) (Initial (body (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var local_data)) (Atom (Num false 9 (Hex false 1ff))) NoDE)))))) (Always (TpEvent (Posedge (TpVarRange i_clk Rng0))) (body (Block null (body (If (And (Atom (Sym (Var i_wr))) (LNot (Atom (Sym (Var o_busy))))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var local_data)) (Conc (Clist (TpConcList (Ele (Atom (Sym (Var i_data)))) (Ele (Atom (Num false 1 (Bin false 0))))))) NoDE)))) (If (Atom (Sym (Var baud_stb))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var local_data)) (Conc (Clist (TpConcList (Ele (Atom (Num false 1 (Bin false 1)))) (Ele (Atom (Sym (Idx local_data (TpExpList null) (RngC (Atom (Int 8)) (Atom (Int 1)))))))))) NoDE)))) NoElse)))))) (Assign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var o_uart_tx)) (Atom (Sym (Idx local_data (TpExpList (Atom (Int 0))) Rng0))) NoDE)))) (Initial (body (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var baud_stb)) (Atom (Num false 1 (Bin false 1))) NoDE)))))) (Initial (body (BkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var baud_counter)) (Atom (Int 0)) NoDE)))))) (Always (TpEvent (Posedge (TpVarRange i_clk Rng0))) (body (Block null (body (If (And (Atom (Sym (Var i_wr))) (LNot (Atom (Sym (Var o_busy))))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var baud_counter)) (Sub (Atom (Sym (Var CLOCKS_PER_BAUD))) (Atom (Num false 1 (Bin false 1)))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var baud_stb)) (Atom (Num false 1 (Bin false 0))) NoDE)))))) (If (LNot (Atom (Sym (Var baud_stb)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var baud_stb)) (Eq (Atom (Sym (Var baud_counter))) (Atom (Num false 24 (Hex false 01)))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var baud_counter)) (Sub (Atom (Sym (Var baud_counter))) (Atom (Num false 1 (Bin false 1)))) NoDE)))))) (If (Neq (Atom (Sym (Var state))) (Atom (Sym (Var IDLE)))) (Block null (body (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var baud_counter)) (Sub (Atom (Sym (Var CLOCKS_PER_BAUD))) (Atom (Num false 24 (Hex false 01)))) NoDE)))) (NbkAssign (TpAssign NoDE (TpEqAssigns (TpEqAssign (Lname (Var baud_stb)) (Atom (Num false 1 (Bin false 0))) NoDE)))))) NoElse)))))))) (macros (DefaultNettype Dnone)))))
